<form class="filters-form" hx-get="{% url 'obligations_table' %}" hx-trigger="change">
    {% csrf_token %}
    
    <fieldset>
        <legend>Filter Obligations</legend>
        
        <div class="form-group">
            <label for="status">Status</label>
            <select name="status" id="status">
                <option value="">All Statuses</option>
                {% for status in status_choices %}
                    <option value="{{ status.0 }}" {% if selected_status == status.0 %}selected{% endif %}>
                        {{ status.1 }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="project">Project</label>
            <select name="project" id="project">
                <option value="">All Projects</option>
                {% for project in projects %}
                    <option value="{{ project.id }}" {% if selected_project == project.id %}selected{% endif %}>
                        {{ project.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="due_date">Due Date</label>
            <input type="date" name="due_date" id="due_date" value="{{ selected_due_date|default:'' }}">
        </div>
    </fieldset>
</form>