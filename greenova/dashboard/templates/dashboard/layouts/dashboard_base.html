{% extends "base.html" %}
{% load static %}
{% block content %}
  <main class="dashboard">
    <div class="container">
      <!-- Stats section with controlled refresh -->
      <div id="dashboard-stats"
           hx-get="{% url 'dashboard:refresh_stats' %}"
           hx-trigger="every 30s"
           hx-swap="innerHTML">
        {% include "dashboard/partials/stats.html" %}
      </div>
      {% if messages %}
        {% include "dashboard/partials/messages.html" %}
      {% endif %}
    </div>
  </main>
{% endblock content %}
{% block page_scripts %}
  <script src="{% static 'js/chart.umd.js' %}" defer></script>
{% endblock page_scripts %}
