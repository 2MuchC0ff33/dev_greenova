{% load static %}
{% load core_tags %}
{% load dashboard_tags %}
{% load chartjs_tags %}

<article>
    <header>
        <h3>{{ metric_name }}</h3>
    </header>
    <figure
        hx-get="{% url 'core:refresh_metric' metric_name|slugify %}"
        hx-trigger="load, every 30s">
        <div data-chart="{{ chart_data|safe_json }}"
             aria-label="{{ metric_name }} chart">
        </div>
        <figcaption>
            <dl>
                <dt>Current</dt>
                <dd>{{ current_value }}{{ unit }}</dd>
                <dt>Average</dt>
                <dd>{{ average_value }}{{ unit }}</dd>
            </dl>
        </figcaption>
    </figure>
</article>
