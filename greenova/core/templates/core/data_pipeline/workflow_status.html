{% load static %}
{% load core_tags %}
{% load dashboard_tags %}

<section class="workflow-status">
    <h2>Active Workflows</h2>
    <div class="workflow-list"
         hx-get="{% url 'core:workflow_status' %}"
         hx-trigger="load, every 30s">
        {% for workflow in workflows %}
        <article class="workflow-item {{ workflow.status|status_badge }}">
            <h3>{{ workflow.name }}</h3>
            <div class="progress-bar" role="progressbar"
                 aria-valuenow="{{ workflow.progress }}"
                 aria-valuemin="0"
                 aria-valuemax="100">
                <div class="progress" style="width: {{ workflow.progress }}%"></div>
            </div>
        </article>
        {% endfor %}
    </div>
</section>
